<!DOCTYPE html>
<html>
<head>
<title>LGIMå¤–éƒ¨ä¾èµ–åˆ†ææŠ¥å‘Š.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="%F0%9F%98%A4-lgim-%E5%A4%96%E9%83%A8%E4%BE%9D%E8%B5%96%E5%85%A8%E6%99%AF%E5%9B%BE">ğŸ˜¤ LGIM å¤–éƒ¨ä¾èµ–å…¨æ™¯å›¾</h1>
<h2 id="1-%E6%B8%B8%E6%88%8F%E4%B8%9A%E5%8A%A1-handler-%E4%BE%9D%E8%B5%96%E6%9C%80%E5%A4%B4%E7%96%BC%E7%9A%84%E9%83%A8%E5%88%86">1. æ¸¸æˆä¸šåŠ¡ Handler ä¾èµ–ï¼ˆæœ€å¤´ç–¼çš„éƒ¨åˆ†ï¼‰</h2>
<h3 id="1-userhandler---%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF">(1) UserHandler - ç”¨æˆ·ä¿¡æ¯</h3>
<p><strong>è¢«è°ƒç”¨ 60+ æ¬¡</strong> -- åœ¨ LimHelper å±‚å¤§é‡è°ƒç”¨</p>
<pre class="hljs"><code><div>UserHandler:GetPlayerId()           <span class="hljs-comment">-- è·å–ç©å®¶ID (40+æ¬¡)</span>
UserHandler:GetPlayerName()         <span class="hljs-comment">-- è·å–ç©å®¶åç§°</span>
UserHandler:GetPlayerAvatarUrl()    <span class="hljs-comment">-- è·å–å¤´åƒURL</span>
UserHandler:GetPlayerAvatarFrameUrl() <span class="hljs-comment">-- è·å–å¤´åƒæ¡†</span>
UserHandler:GetVipLevel()           <span class="hljs-comment">-- VIPç­‰çº§</span>
UserHandler:GetOriServerId()        <span class="hljs-comment">-- åŸå§‹æœåŠ¡å™¨ID</span>
UserHandler:GetAllianceId()         <span class="hljs-comment">-- è”ç›ŸID</span>
UserHandler:GetAllianceName()       <span class="hljs-comment">-- è”ç›Ÿåç§°</span>
UserHandler:IsInAlliance()          <span class="hljs-comment">-- æ˜¯å¦åœ¨è”ç›Ÿä¸­</span>
UserHandler:IsInTopAlliance()       <span class="hljs-comment">-- æ˜¯å¦åœ¨é¡¶çº§è”ç›Ÿ</span>
UserHandler:GetTopAllianceName()    <span class="hljs-comment">-- é¡¶çº§è”ç›Ÿåç§°</span>
UserHandler:IsInLegion()            <span class="hljs-comment">-- æ˜¯å¦åœ¨å†›å›¢</span>
UserHandler:GetLegionName()         <span class="hljs-comment">-- å†›å›¢åç§°</span>
UserHandler:GetUserChatInfo()       <span class="hljs-comment">-- è·å–èŠå¤©ä¿¡æ¯</span>
</div></code></pre>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li>âŒ æ•£å¸ƒåœ¨ 15+ ä¸ªæ–‡ä»¶ä¸­</li>
<li>âŒ æ— æ¥å£æŠ½è±¡ï¼Œç›´æ¥ç¡¬ç¼–ç è°ƒç”¨</li>
<li>âŒ æ–°é¡¹ç›®å¿…é¡»å®ç°å®Œå…¨ç›¸åŒçš„æ¥å£åç§°</li>
</ul>
<hr>
<h3 id="2-alliancehandler---%E8%81%94%E7%9B%9F%E4%BF%A1%E6%81%AF">(2) AllianceHandler - è”ç›Ÿä¿¡æ¯</h3>
<p><strong>è¢«è°ƒç”¨ 20+ æ¬¡</strong></p>
<pre class="hljs"><code><div>AllianceHandler:GetMyAllianceId()
AllianceHandler:GetMyAllianceName()
AllianceHandler:GetMyAllianceAvatar()
AllianceHandler:GetAllianceBaseInfo()
AllianceHandler:IsPresidentOrOfficerOrR4()  <span class="hljs-comment">-- æƒé™æ£€æŸ¥</span>
</div></code></pre>
<hr>
<h3 id="3-avatarhandler---%E5%A4%B4%E5%83%8F%E7%AE%A1%E7%90%86">(3) AvatarHandler - å¤´åƒç®¡ç†</h3>
<p><strong>è¢«è°ƒç”¨ 15+ æ¬¡</strong></p>
<pre class="hljs"><code><div>AvatarHandler:GenAvatarSavedJson()          <span class="hljs-comment">-- ç”Ÿæˆå¤´åƒJSON</span>
AvatarHandler:GetPCCustomEmotionCfgByKey()  <span class="hljs-comment">-- è‡ªå®šä¹‰è¡¨æƒ…</span>
AvatarHandler:SetLocalCache()               <span class="hljs-comment">-- æœ¬åœ°ç¼“å­˜</span>
AvatarHandler:ChangeAvatarReview()          <span class="hljs-comment">-- å¤´åƒå®¡æ ¸</span>
AvatarHandler:AvatarStringIsJson()          <span class="hljs-comment">-- åˆ¤æ–­å¤´åƒæ ¼å¼</span>
AvatarHandler:GetCdnUrlByKey()              <span class="hljs-comment">-- CDN URL</span>
AvatarHandler:OnReqPhotoUrlFromSDK()        <span class="hljs-comment">-- è¯·æ±‚ä¸Šä¼ URL</span>
</div></code></pre>
<hr>
<h3 id="4-lilithchatsdkhandler---%E8%81%8A%E5%A4%A9%E9%A2%91%E9%81%93%E7%AE%A1%E7%90%86">(4) LilithChatSDKHandler - èŠå¤©é¢‘é“ç®¡ç†</h3>
<p><strong>è¢«è°ƒç”¨ 40+ æ¬¡</strong></p>
<pre class="hljs"><code><div>LilithChatSDKHandler:GetKingdonChanelID()      <span class="hljs-comment">-- ç‹å›½é¢‘é“ID</span>
LilithChatSDKHandler:GetAllianceChanelID()     <span class="hljs-comment">-- è”ç›Ÿé¢‘é“ID</span>
LilithChatSDKHandler:GetSeasonChanelID()       <span class="hljs-comment">-- èµ›å­£é¢‘é“ID</span>
LilithChatSDKHandler:GetLegionChanelID()       <span class="hljs-comment">-- å†›å›¢é¢‘é“ID</span>
LilithChatSDKHandler:GetCampChanelID()         <span class="hljs-comment">-- é˜µè¥é¢‘é“ID</span>
LilithChatSDKHandler:GetTopKvkChanelID()       <span class="hljs-comment">-- å·…å³°æˆ˜åœºé¢‘é“ID</span>
LilithChatSDKHandler:GetTopAllianceChanelID()  <span class="hljs-comment">-- é¡¶çº§è”ç›Ÿé¢‘é“ID</span>
LilithChatSDKHandler:GetLostLandChanelIDs()    <span class="hljs-comment">-- å¤±åœ°é¢‘é“IDåˆ—è¡¨</span>
LilithChatSDKHandler:GetTeamRelocateServerChanelID() <span class="hljs-comment">-- è¿æœé¢‘é“ID</span>
LilithChatSDKHandler:GetOriKingdomChanelID()   <span class="hljs-comment">-- åŸå§‹ç‹å›½é¢‘é“ID</span>
LilithChatSDKHandler:GetAsAllyChannelID()      <span class="hljs-comment">-- ç›Ÿå‹é¢‘é“ID</span>
LilithChatSDKHandler:GetChannelID()            <span class="hljs-comment">-- é€šç”¨è·å–é¢‘é“ID</span>
LilithChatSDKHandler:GetLimConvType()          <span class="hljs-comment">-- è·å–ä¼šè¯ç±»å‹</span>
LilithChatSDKHandler:GetAllianceChannelName()  <span class="hljs-comment">-- è”ç›Ÿé¢‘é“åç§°</span>
LilithChatSDKHandler:HasGroupById()            <span class="hljs-comment">-- åˆ¤æ–­ç¾¤ç»„æ˜¯å¦å­˜åœ¨</span>
LilithChatSDKHandler:CanGotoHref()             <span class="hljs-comment">-- èƒ½å¦è·³è½¬è¶…é“¾æ¥</span>
LilithChatSDKHandler:NeedForceUpdateGuide()    <span class="hljs-comment">-- æ˜¯å¦éœ€è¦å¼ºåˆ¶æ›´æ–°å¼•å¯¼</span>
LilithChatSDKHandler:HintIMLocked()            <span class="hljs-comment">-- IMé”å®šæç¤º</span>
LilithChatSDKHandler:RemoveLanguageConvChannel() <span class="hljs-comment">-- ç§»é™¤è¯­è¨€é¢‘é“</span>
LilithChatSDKHandler:UpdateLanguageConvChannel() <span class="hljs-comment">-- æ›´æ–°è¯­è¨€é¢‘é“</span>
</div></code></pre>
<p><strong>é—®é¢˜ï¼š</strong></p>
<ul>
<li>âŒ ç¡¬ç¼–ç ä¾èµ–å¯¼è‡´æ— æ³•å¤ç”¨</li>
</ul>
<hr>
<h3 id="5-%E5%85%B6%E4%BB%96%E4%B8%9A%E5%8A%A1-handler">(5) å…¶ä»–ä¸šåŠ¡ Handler</h3>
<pre class="hljs"><code><div>// ç©å®¶ä¿¡æ¯
PlayerInfoHandler:GetPlayerInfo()
PlayerInfoHandler:SetNewAvatar()

// åŸå¸‚å»ºç­‘
CityBuildHandler:GetMyCityLevel()
CityBuildHandler:RemoveCitySpaceScreenShotPic()

// æƒé™ç®¡ç†
CustomPermissionHandler:IsPermissionEnable()
CustomPermissionHandler:IsChatEnable()

// çš®è‚¤ç®¡ç†
SkinHandler:GetCurLGIMSkinId()
SkinHandler:GetCurLGIMSkinTag()
SkinHandler:CheckInitLGIMSkin()
SkinHandler:SetInitLGIMSkin()

// é¢œè‰²æ–¹æ¡ˆ
ColorPlanHandler:SetColorPlan()

// ä»»åŠ¡ç³»ç»Ÿ
QuestHandler:GetStrategicState()
QuestHandler:RequestQuestFinished()

// çº¢åŒ…ç³»ç»Ÿ
RedEnvelopesHandler:RedIdToIMID()

// å›¢é˜ŸæŠ½å¡
TeamGachaHandler:IMHandlerShowTeamGachaInvitation()

// è¿æœ
ImmigrateHandler:GetServerSeasonName()

// éªŒè¯ç 
CaptchaHandler:GetLanguage()
CaptchaHandler:GetApiServer()
CaptchaHandler:CaptchaVerifyReq()

// å†›å›¢
LegionHandler:IsMainAlliance()

// å·…å³°æˆ˜åœº
TopKVKHandler:IsInTopKVK()

// åœ°å›¾æˆ˜æ–—
MapWarHandler:IsInMapWarGame()
</div></code></pre>
<hr>
<h2 id="2-unity-%E5%BC%95%E6%93%8E%E4%BE%9D%E8%B5%96">2. Unity å¼•æ“ä¾èµ–</h2>
<pre class="hljs"><code><div>// UI ç»„ä»¶
UnityEngine.UI.Text
UnityEngine.UI.Image
UnityEngine.UI.Button
UnityEngine.UI.ScrollRect
UnityEngine.UI.InputField
UnityEngine.UI.LayoutElement
UnityEngine.UI.ContentSizeFitter
UnityEngine.RectTransform

// æ ¸å¿ƒç»„ä»¶
UnityEngine.Screen
UnityEngine.Microphone
UnityEngine.Vector2
UnityEngine.Vector3
UnityEngine.Color
UnityEngine.GameObject
UnityEngine.Transform
UnityEngine.Canvas
UnityEngine.Input

// è‡ªå®šä¹‰ç»„ä»¶
LinkedListView        <span class="hljs-comment">-- é“¾è¡¨è§†å›¾</span>
LimHelperLua.ListView <span class="hljs-comment">-- åˆ—è¡¨è§†å›¾</span>
KMInputHandler        <span class="hljs-comment">-- é”®ç›˜è¾“å…¥å¤„ç†</span>
</div></code></pre>
<hr>
<h2 id="3-ui-%E7%B3%BB%E7%BB%9F%E4%BE%9D%E8%B5%96">3. UI ç³»ç»Ÿä¾èµ–</h2>
<pre class="hljs"><code><div>// UIObjectManager - æ‰€æœ‰ UI æ–‡ä»¶éƒ½ä¾èµ–
UIObjectManager:GetUIObject(<span class="hljs-string">"ChatMainPanel"</span>)
UIObjectManager:GetUIObject(<span class="hljs-string">"CommonWarningTips"</span>)
UIObjectManager:GetUIObject(<span class="hljs-string">"ChatFriendListPanel"</span>)
UIObjectManager:GetUIObject(<span class="hljs-string">"ChatImagePreview"</span>)
UIObjectManager:GetUIObject(<span class="hljs-string">"ChatConvSetting"</span>)
UIObjectManager:GetUIObject(<span class="hljs-string">"FluxScripMainPage"</span>)
UIObjectManager:GetUIObject(<span class="hljs-string">"AllUIMailMainPage"</span>)
UIObjectManager:GetUIObject(<span class="hljs-string">"CommonBackground"</span>)
UIObjectManager:GetUIObject(<span class="hljs-string">"CityUIPlayerInfo"</span>)
UIObjectManager:GetUIObject(<span class="hljs-string">"AuthorityPopup"</span>)
// ... è¿˜æœ‰ <span class="hljs-number">20</span>+ ä¸ª

// UIHelper - UI å·¥å…·
UIHelper:SetBtnListener()
UIHelper:SetText()
UIHelper:OpenUI()
UIHelper:CloseUI()
UIHelper:ShowCommonTips()
UIHelper:PlayAnimation()
UIHelper:SetActiveSafely()
</div></code></pre>
<hr>
<h2 id="4-%E4%BA%8B%E4%BB%B6%E7%B3%BB%E7%BB%9F%E4%BE%9D%E8%B5%96">4. äº‹ä»¶ç³»ç»Ÿä¾èµ–</h2>
<pre class="hljs"><code><div>// EventDispatcher - è¢«è°ƒç”¨ <span class="hljs-number">115</span>+ æ¬¡
EventDispatcher:RegisterEvent()
EventDispatcher:DisPatchEvent()
EventDispatcher:UnRegisterEvent()

// äº‹ä»¶ç±»å‹ï¼ˆ<span class="hljs-number">50</span>+ ä¸ªï¼‰
EVENT_REFRESH_CHAT_MSG           <span class="hljs-comment">-- åˆ·æ–°æ¶ˆæ¯</span>
EVENT_REFRESH_CHAT_CONVS         <span class="hljs-comment">-- åˆ·æ–°ä¼šè¯åˆ—è¡¨</span>
EVENT_REFRESH_CHAT_USER          <span class="hljs-comment">-- åˆ·æ–°ç”¨æˆ·ä¿¡æ¯</span>
EVENT_REFRESH_CHAT_FRIEND        <span class="hljs-comment">-- åˆ·æ–°å¥½å‹</span>
EVENT_REFRESH_CHAT_REDHINTS      <span class="hljs-comment">-- åˆ·æ–°çº¢ç‚¹</span>
EVENT_SENDED_CHAT_MSG            <span class="hljs-comment">-- æ¶ˆæ¯å·²å‘é€</span>
EVENT_CHANGE_CHAT_MUTE           <span class="hljs-comment">-- å…æ‰“æ‰°çŠ¶æ€å˜åŒ–</span>
EVENT_CHANGE_CHAT_CONV           <span class="hljs-comment">-- ä¼šè¯åˆ‡æ¢</span>
EVENT_SHOW_CHAT_MAIN             <span class="hljs-comment">-- æ˜¾ç¤ºèŠå¤©ä¸»ç•Œé¢</span>
EVENT_HIDE_CHAT_MAIN             <span class="hljs-comment">-- éšè—èŠå¤©ä¸»ç•Œé¢</span>
EVENT_LGIM_LOGIN_SUCCESS         <span class="hljs-comment">-- ç™»å½•æˆåŠŸ</span>
EVENT_LGIM_DISCONNECT            <span class="hljs-comment">-- æ–­çº¿</span>
EVENT_IM_OPEN_REDENVELOPES       <span class="hljs-comment">-- æ‰“å¼€çº¢åŒ…</span>
EVENT_ALLIANCE_CHAT_DATA_COMING  <span class="hljs-comment">-- è”ç›ŸèŠå¤©æ•°æ®</span>
EVENT_HORN_NEW_RECEIVED          <span class="hljs-comment">-- å¤§å–‡å­</span>
EVENT_VOICE_CHAT_*               <span class="hljs-comment">-- è¯­éŸ³èŠå¤©ç³»åˆ—</span>
EVENT_PLAYER_PHOTO_UPLOADED_*    <span class="hljs-comment">-- ç…§ç‰‡ä¸Šä¼ ç³»åˆ—</span>
EVENT_CAPTCHA_SDK_BACK           <span class="hljs-comment">-- éªŒè¯ç å›è°ƒ</span>
EVENT_IAP_SKUITEMS_CHANGED       <span class="hljs-comment">-- IAP å•†å“å˜åŒ–</span>
// ... è¿˜æœ‰å¾ˆå¤š
</div></code></pre>
<hr>
<h2 id="5-%E5%85%A8%E5%B1%80%E5%B7%A5%E5%85%B7%E7%B1%BB%E4%BE%9D%E8%B5%96">5. å…¨å±€å·¥å…·ç±»ä¾èµ–</h2>
<pre class="hljs"><code><div>// Utils - å·¥å…·ç±»
Utils:GetText()                  <span class="hljs-comment">-- å¤šè¯­è¨€æ–‡æœ¬</span>
Utils:GetTableStr()              <span class="hljs-comment">-- è¡¨æ ¼è½¬å­—ç¬¦ä¸²</span>
Utils:Split()                    <span class="hljs-comment">-- å­—ç¬¦ä¸²åˆ†å‰²</span>
Utils:IsWin32()                  <span class="hljs-comment">-- å¹³å°åˆ¤æ–­</span>
Utils:GetGDConstValueByKey()     <span class="hljs-comment">-- æ¸¸æˆé…ç½®</span>
Utils:RealServerId2DisplayServerId() <span class="hljs-comment">-- æœåŠ¡å™¨IDè½¬æ¢</span>
Utils:IsInWorldMapScene()        <span class="hljs-comment">-- åœºæ™¯åˆ¤æ–­</span>
Utils:BuglyPost()                <span class="hljs-comment">-- ä¸ŠæŠ¥é”™è¯¯</span>
Utils:SafeLoadTable()            <span class="hljs-comment">-- å®‰å…¨åŠ è½½è¡¨æ ¼</span>
Utils:TableInsertIf()            <span class="hljs-comment">-- æ¡ä»¶æ’å…¥</span>

// eng - å¼•æ“æ¥å£
eng.json.EncodeJson()
eng.json.DecodeJson()
eng.SaveTable()
eng.GetCachePath()
eng.GetAppVersionByPlatform()
eng.GetTimeZone()
eng.GetOpenUdid()

// GameTimer
GameTimer:ServerTime()
GameTimer:ServerTimeSec()
GameTimer:RegisterEventTimer()

// ResourceMgr
ResourceMgr:GetInstance()
ResourceMgr:Destroy()
ResourceMgr:Load()

// å…¶ä»–å…¨å±€å˜é‡
g_CurLanguage                    <span class="hljs-comment">-- å½“å‰è¯­è¨€</span>
g_UseLGIM                        <span class="hljs-comment">-- æ˜¯å¦ä½¿ç”¨LGIM</span>
GameRoot_Platform                <span class="hljs-comment">-- å¹³å°</span>
GameRoot_Channel                 <span class="hljs-comment">-- æ¸ é“</span>
GameRoot_IsEditor                <span class="hljs-comment">-- æ˜¯å¦ç¼–è¾‘å™¨</span>
GameRoot_PlatformWebGL           <span class="hljs-comment">-- æ˜¯å¦WebGL</span>
GameRoot_UseLimPC                <span class="hljs-comment">-- æ˜¯å¦PC</span>
</div></code></pre>
<hr>
<h2 id="6-c-%E6%A1%A5%E6%8E%A5%E4%BE%9D%E8%B5%96">6. C# æ¡¥æ¥ä¾èµ–</h2>
<pre class="hljs"><code><div>// LGIMHandler - C# ç½‘ç»œæ¨¡å—
LGIMHandler.LGIMEncryptInit()
LGIMHandler:Init()
LGIMHandler:SendMessage()

// CSLGIMHelper - C# IM åŠ©æ‰‹
CSLGIMHelper

// NetEaseRTCHelper - ç½‘æ˜“äº‘ä¿¡
NetEaseRTCHelper:Init()
NetEaseRTCHelper:JoinChannel()
NetEaseRTCHelper:LeaveChannel()

// WebGLSdk
WebGLSdk.isPc

// SDKInterface
SDKInterface.userInfo.appToken
SDKInterface.userInfo.appUid
SDKInterface.APPDeviceInfo.GameID
SDKInterface.APPDeviceInfo.AppID

// extHttp - HTTP è¯·æ±‚
extHttp:CreateHttpRequest()

// CSInputMgr - è¾“å…¥ç®¡ç†
CSInputMgr.IsTouchUIGiven()
</div></code></pre>
<hr>
<h2 id="%F0%9F%93%8A-%E4%BE%9D%E8%B5%96%E7%BB%9F%E8%AE%A1">ğŸ“Š ä¾èµ–ç»Ÿè®¡</h2>
<table>
<thead>
<tr>
<th>ä¾èµ–ç±»å‹</th>
<th>æ•°é‡</th>
<th>å¤ç”¨æ€§</th>
<th>é—®é¢˜ç¨‹åº¦</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ¸¸æˆä¸šåŠ¡Handler</td>
<td>20+</td>
<td>âŒ 0%</td>
<td>ğŸ”¥ğŸ”¥ğŸ”¥ æé«˜</td>
</tr>
<tr>
<td>LilithChatSDKHandler</td>
<td>40+ è°ƒç”¨</td>
<td>âŒ 0%</td>
<td>ğŸ”¥ğŸ”¥ğŸ”¥ æé«˜</td>
</tr>
<tr>
<td>Unity ç»„ä»¶</td>
<td>30+</td>
<td>âœ… 100%</td>
<td>âœ… æ— é—®é¢˜</td>
</tr>
<tr>
<td>UIObjectManager</td>
<td>30+ UI</td>
<td>âš ï¸ 50%</td>
<td>ğŸ”¥ğŸ”¥ é«˜</td>
</tr>
<tr>
<td>EventDispatcher</td>
<td>50+ äº‹ä»¶</td>
<td>âš ï¸ 30%</td>
<td>ğŸ”¥ğŸ”¥ é«˜</td>
</tr>
<tr>
<td>Utils å·¥å…·ç±»</td>
<td>20+ æ–¹æ³•</td>
<td>âš ï¸ 60%</td>
<td>ğŸ”¥ ä¸­ç­‰</td>
</tr>
<tr>
<td>C# æ¡¥æ¥</td>
<td>10+</td>
<td>âœ… 90%</td>
<td>âœ… ä½</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="%F0%9F%92%A5-%E5%89%8D-5-%E5%90%8D%E4%BE%9D%E8%B5%96">ğŸ’¥ å‰ 5 åä¾èµ–</h2>
<h3 id="%F0%9F%A5%87-%E7%AC%AC1%E5%90%8Dlilithchatsdkhandler">ğŸ¥‡ ç¬¬1åï¼šLilithChatSDKHandler</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼š40+ æ¬¡è°ƒç”¨</li>
<li><strong>å½±å“</strong>ï¼šæ–°é¡¹ç›®å¿…é¡»å®ç°ç›¸åŒçš„é¢‘é“ä½“ç³»</li>
<li><strong>å»ºè®®</strong>ï¼šæŠ½è±¡ä¸º IChannelProvider æ¥å£</li>
</ul>
<hr>
<h3 id="%F0%9F%A5%88-%E7%AC%AC2%E5%90%8Duserhandler">ğŸ¥ˆ ç¬¬2åï¼šUserHandler</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼š60+ æ¬¡è°ƒç”¨ï¼Œæ•£å¸ƒåœ¨ 15+ æ–‡ä»¶</li>
<li><strong>å½±å“</strong>ï¼šæ–°é¡¹ç›®å¿…é¡»å®ç°å®Œå…¨ç›¸åŒçš„æ–¹æ³•å</li>
<li><strong>å»ºè®®</strong>ï¼šæŠ½è±¡ä¸º IUserProvider æ¥å£</li>
</ul>
<hr>
<h3 id="%F0%9F%A5%89-%E7%AC%AC3%E5%90%8Deventdispatcher">ğŸ¥‰ ç¬¬3åï¼šEventDispatcher</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼š115+ æ¬¡è°ƒç”¨ï¼Œ50+ ç§äº‹ä»¶ç±»å‹</li>
<li><strong>å½±å“</strong>ï¼šäº‹ä»¶åç§°ç¡¬ç¼–ç ï¼Œä¸åŒé¡¹ç›®äº‹ä»¶ç³»ç»Ÿä¸åŒ</li>
<li><strong>å»ºè®®</strong>ï¼šæŠ½è±¡ä¸º IEventBus æ¥å£</li>
</ul>
<hr>
<h3 id="%F0%9F%8F%85-%E7%AC%AC4%E5%90%8Dalliancehandler">ğŸ… ç¬¬4åï¼šAllianceHandler</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼š20+ æ¬¡è°ƒç”¨ï¼Œè”ç›Ÿç³»ç»Ÿå„æ¸¸æˆå·®å¼‚å¤§</li>
<li><strong>å½±å“</strong>ï¼šéè”ç›Ÿç±»æ¸¸æˆæ— æ³•ä½¿ç”¨</li>
<li><strong>å»ºè®®</strong>ï¼šæŠ½è±¡ä¸º IAllianceProvider æ¥å£ï¼ˆå¯é€‰ï¼‰</li>
</ul>
<hr>
<h3 id="%F0%9F%8F%85-%E7%AC%AC5%E5%90%8Davatarhandler">ğŸ… ç¬¬5åï¼šAvatarHandler</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼š15+ æ¬¡è°ƒç”¨ï¼Œå¤´åƒç®¡ç†å„æ¸¸æˆä¸åŒ</li>
<li><strong>å½±å“</strong>ï¼šæ–°é¡¹ç›®éœ€è¦å®ç°ç›¸åŒçš„å¤´åƒç³»ç»Ÿ</li>
<li><strong>å»ºè®®</strong>ï¼šæŠ½è±¡ä¸º IAvatarProvider æ¥å£</li>
</ul>
<hr>
<h2 id="%F0%9F%8E%AF-%E5%BB%BA%E8%AE%AE%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E6%96%B9%E6%A1%88">ğŸ¯ å»ºè®®ï¼šä¾èµ–æ³¨å…¥æ–¹æ¡ˆ</h2>
<pre class="hljs"><code><div><span class="hljs-comment">-- å®šä¹‰æ¥å£</span>
ILGIMProvider = {
    IUserProvider = {...},        <span class="hljs-comment">-- ç”¨æˆ·ä¿¡æ¯</span>
    IChannelProvider = {...},     <span class="hljs-comment">-- é¢‘é“ç®¡ç†</span>
    IAllianceProvider = {...},    <span class="hljs-comment">-- è”ç›Ÿä¿¡æ¯ï¼ˆå¯é€‰ï¼‰</span>
    IAvatarProvider = {...},      <span class="hljs-comment">-- å¤´åƒç®¡ç†</span>
    IEventBus = {...},            <span class="hljs-comment">-- äº‹ä»¶ç³»ç»Ÿ</span>
    IUIManager = {...},           <span class="hljs-comment">-- UIç®¡ç†</span>
}

<span class="hljs-comment">-- æ³¨å…¥ä¾èµ–</span>
LimHelperLua:Initialize({
    userProvider = RokUserProvider,
    channelProvider = RokChannelProvider,
    eventBus = EventDispatcher,
    <span class="hljs-comment">-- ...</span>
})

<span class="hljs-comment">-- ä½¿ç”¨ Provider</span>
<span class="hljs-keyword">local</span> playerId = self.userProvider:GetPlayerId()
<span class="hljs-comment">-- è€Œä¸æ˜¯ç›´æ¥è°ƒç”¨ UserHandler:GetPlayerId()</span>
</div></code></pre>
<hr>

</body>
</html>
